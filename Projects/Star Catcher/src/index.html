<!DOCTYPE html>
<html>
    <head>
        <title>Catch The Star</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/phaser/2.6.2/phaser.min.js"></script>
        <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/phaser-ce/2.7.0/phaser.min.js"></script> -->
        <script type = "text/javascript" src = "https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
                
        <script type = "text/javascript" src = "Lib/analytics.js"></script>
        <script type = "text/javascript" src = "Lib/fps.js"></script>
        <!-- <script type = "text/javascript" src = "Lib/phaser-spine.js"></script> -->
        <link rel = "stylesheet" type = "text/css" href = "Lib/Font.css">

        <script type = "text/javascript" src = "js/Singleton/GlobalObject.js"></script>
        <script type = "text/javascript" src = "js/Singleton/GlobalConst.js"></script>
        <script type = "text/javascript" src = "js/Singleton/ScaleScreen.js"></script>
        <script type = "text/javascript" src = "js/Singleton/GlobalFunction.js"></script>

        <script type = "text/javascript" src = "js/Entities/DropItem.js"></script>
        <script type = "text/javascript" src = "js/Entities/DropItem/Star.js"></script>
        <script type = "text/javascript" src = "js/Entities/DropItem/Meteor.js"></script>

        <script type = "text/javascript" src = "js/Entities/Basket.js"></script>
        <script type = "text/javascript" src = "js/Entities/Score.js"></script>
        <script type = "text/javascript" src = "js/Entities/ScoreGetStar.js"></script>
        <script type = "text/javascript" src = "js/Entities/Timer.js"></script>
        <script type = "text/javascript" src = "js/Entities/Planet.js"></script>
        <script type = "text/javascript" src = "js/Entities/ObjectParalax.js"></script>
        <script type = "text/javascript" src = "js/Entities/Rocket.js"></script>
        <script type = "text/javascript" src = "js/Entities/ExplodeParticle.js"></script>
        <script type = "text/javascript" src = "js/Entities/BgParallax.js"></script>
        <script type = "text/javascript" src = "js/Entities/TopUi.js"></script>
        <script type = "text/javascript" src = "js/Entities/GameOver.js"></script>
        <script type = "text/javascript" src = "js/Entities/Highscore.js"></script>
        <script type = "text/javascript" src = "js/Entities/Title.js"></script>
        <script type = "text/javascript" src = "js/Entities/Combo.js"></script>

        <script type = "text/javascript" src = "js/Manager/InputManager.js"></script>
        <script type = "text/javascript" src = "js/Manager/CollisionManager.js"></script>
        <script type = "text/javascript" src = "js/Manager/LivesManager.js"></script>
        <script type = "text/javascript" src = "js/Manager/DropItemManager.js"></script>
        <script type = "text/javascript" src = "js/Manager/SoundManager.js"></script>

        <script type = "text/javascript" src = "js/States/StateBoot.js"></script>
        <script type = "text/javascript" src = "js/States/StatePreload.js"></script>
        <script type = "text/javascript" src = "js/States/StateGameplay.js"></script>
        <script type = "text/javascript" src = "js/States/StateTitleScreen.js"></script>  
    </head>
            
    <body>     
        <div class = "fontPreload" style = "font-family: Panton-Regular">.</div>   
        <div class = "fontPreload" style = "font-family: Panton-Bold">.</div>   

        <script>

            (function(){  

                GlobalConst.GetParameter();

                let gameWidth = 1080;
                let gameHeight = 1920;                

                if(window.innerWidth > window.innerHeight)
                {   
                    gameWidth *= window.innerHeight/gameHeight;
                    gameHeight = window.innerHeight;  
                }
                else
                {
                    gameWidth = window.innerWidth;
                    gameHeight = window.innerHeight;
                }

                if(!/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream)
                {
                    game = new Phaser.Game(gameWidth, gameHeight, Phaser.CANVAS, "");  
                }
                else
                {
                    game = new Phaser.Game(gameWidth, gameHeight, Phaser.WEBGL, "");  
                }

                game.transparent = true;
                game.enableDebug = false;
                game.antialias = true;
                //console.log(game);

                game.state.add('boot', StateBoot);
                game.state.add('preload', StatePreload);
                game.state.add('gameplay', StateGameplay); 
                game.state.add('titlescreen', StateTitleScreen); 
                
                GlobalObject.Game = game;

                // Call the Boot state
                game.state.start('boot');
            })();
        </script>
    </body>
</html>
